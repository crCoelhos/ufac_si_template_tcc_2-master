%%
%% Customizações do abnTeX2 (http://abnTeX2.googlecode.com) para a Universidade Federal do Acre
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%%
%% The Current Maintainer of this work is Manoel Limeira (limeira@ufac.br)
%%
%% Further information about abnTeX2 are available on http://abntex2.googlecode.com/
%%
%
% ---
% INICIO DAS CUSTOMIZACOES PARA A UNIVERSIDADE FEDERAL DO ACRE
% ---
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{abntex2-UFAC}[2019/09/06 v0.1 AbnTeX2-UFAC]

% Ajusta as margens
\setlrmarginsandblock{3cm}{2cm}{*}
\setulmarginsandblock{3cm}{2cm}{*}
\checkandfixthelayout

% TODO: confirmar se identação de parágrafo e espaçamento entre parágrafos estão corretos
% Ajusta identação do parágrafo
\setlength{\parindent}{1.3cm}

% Ajusta o espaçamento entre um parágrafo e outro
\setlength{\parskip}{0.2cm}  % tente também \onelineskip

\providecommand{\imprimircampus}{}
\newcommand{\campus}[1]{\renewcommand{\imprimircampus}{#1}}

\providecommand{\imprimircurso}{}
\newcommand{\curso}[1]{\renewcommand{\imprimircurso}{#1}}


% alterando a capa
\renewcommand{\imprimircapa}{%
  \begin{capa}%
    \center
    \begin{figure}[!ht]
	\centering
	\includegraphics[width=0.1\linewidth]{figuras/exefig.eps}
	\label{fig:ufaclogo}
	\end{figure}
	{\large \MakeUppercase{\imprimirinstituicao}}
    \par

    {\large \MakeUppercase{\imprimircampus}}
    \par

    \abntex@ifnotempty{\imprimircurso}{%
       {\large \MakeUppercase{\imprimircurso}}
    }%
    \vspace*{7cm}

    % REMOVED: Autor na capa - caso especifico de TCC II do curso de SI
    % {\large \MakeUppercase{\imprimirautor}}

    {\bfseries\large \MakeUppercase{\imprimirtitulo}}
    \vspace*{\fill}
    \par
    {\bfseries\large\MakeUppercase{\imprimirlocal}}
    \par
    {\bfseries\large{\imprimirdata}}
    \vspace*{1cm}
  \end{capa}
}


% folha de rosto

\makeatletter

\renewcommand{\folhaderostocontent}{
\begin{center}
  {\bfseries\large\MakeUppercase{\imprimirautor}}
  \vspace*{1cm}

  \vspace*{\fill}\vspace*{\fill}

  {\bfseries\large\MakeUppercase{\imprimirtitulo}}

  \vspace*{\fill}

% TODO: Verificar com a Laura e talvez com colegiado se deve ser igual ambos os preâmbulos ou diferente
  \abntex@ifnotempty{\imprimirpreambulo}{%
    \hspace{.45\textwidth}
    \begin{minipage}{.5\textwidth}
    \SingleSpacing
    % Monografia apresentada como exigência para obtenção do grau de bacharel em Sistemas de Informação pela Universidade Federal do Acre.
    % Trabalho de conclusão de curso, apresentado à Universidade Federal do Acre, como parte das exigências para a obtenção do título de Bacharel em Sistemas de Informação.
    \imprimirpreambulo {.}

    \smallskip
    {\imprimirorientadorRotulo~\imprimirorientador\par}

    \smallskip
    \abntex@ifnotempty{\imprimircoorientador}{%
      {\imprimircoorientadorRotulo~\imprimircoorientador}%
    }%

    \end{minipage}%
    \vspace*{\fill}
  }%
  \vspace*{\fill}
  \par
  {\bfseries\large\MakeUppercase{\imprimirlocal}}
  \par
  {\bfseries\large{\imprimirdata}}
  \vspace*{1cm}
\end{center}
}

\makeatother

% FUTURE-TODO: comandos que diferenciem pelo gênero (masculino/feminino) "autor", "orientador", "membro da banca" para não precisar usar (a) e (o) no texto

\providecommand{\imprimirorientadorsiglainst}{}
\renewcommand{\orientador}[2][Curso de Bacharelado em Sistemas de Informação - Universidade Federal do Acre]{\renewcommand{\imprimirorientador}{#2}\renewcommand{\imprimirorientadorsiglainst}{#1}}
\renewcommand{\imprimirorientadorRotulo}{\orientadorname}


\providecommand{\imprimirmembrobancaA}{}
\providecommand{\imprimirmembrobancaAsiglainst}{}
\newcommand{\membrobancaA}[2][Curso de Bacharelado em Sistemas de Informação]{
   \renewcommand{\imprimirmembrobancaA}{#2}
   \renewcommand{\imprimirmembrobancaAsiglainst}{#1}
}


\providecommand{\imprimirmembrobancaB}{}
\providecommand{\imprimirmembrobancaBsiglainst}{}
\newcommand{\membrobancaB}[2][Curso de Bacharelado em Sistemas de Informação]{\renewcommand{\imprimirmembrobancaB}{#2}\renewcommand{\imprimirmembrobancaBsiglainst}{#1}}

\providecommand{\imprimirdatabanca}{}
\newcommand{\databanca}[1]{\renewcommand{\imprimirdatabanca}{#1}}

% TODO: MODIFICAR A LARGURA DO COMPONENTE QUE COMPORTA CAMPO DE ASSINATURA, NOME DO ORIENTADOR, INSTITUIÇÃO (DE FORMA A REFLETIR OS MODELOS DE TCC QUE ESTAMOS USANDO DE EXEMPLO)
\makeatletter
\newcommand{\imprimirfolhadeaprovacao}{%
\begin{folhadeaprovacao}%
   % TODO: MUDAR de \vspace*{\fill} para \vspace*{cm/mm}
  \begin{center}%
    {\bfseries\large\MakeUppercase{Termo de Aprovação}}

    \vspace*{\fill}

    {\bfseries\large\MakeUppercase{\imprimirautor}}

    \vspace*{\fill}

    {\bfseries\large\MakeUppercase{\imprimirtitulo}}

    \vspace*{\fill}

    % \hspace{.45\textwidth}
    % TODO: CORRIGIR O TAMANHO DA FONTE
    \begin{minipage}{\textwidth}
        \imprimirpreambulo {, sendo aprovado pela banca constituída pelo professor orientador e membros abaixo mencionados.}
    \end{minipage}%
  \end{center}
  Compuseram a banca:

  \vspace*{\fill}

  % REMOVED: "Orientador" entre nome e curso
  % \assinatura{\bfseries{\imprimirorientador} \\ Orientador \\ \imprimirorientadorsiglainst}
  \assinatura{\imprimirorientador \\ \imprimirorientadorsiglainst}

  \vspace*{\fill}

  \abntex@ifnotempty{\imprimirmembrobancaA}{%
  \assinatura{\imprimirmembrobancaA \\ \imprimirmembrobancaAsiglainst}
  }%

  \vspace*{\fill}

  \abntex@ifnotempty{\imprimirmembrobancaB}{%
  \assinatura{\imprimirmembrobancaB \\ \imprimirmembrobancaBsiglainst}
  }%

  \vspace*{\fill}

  \begin{center}
    \vspace*{\fill}
    \par
    % CHANGED: "LOCAL \N ANO" -> "Local, data atual por extenso"
    % {\large\MakeUppercase{\imprimirlocal}}
    % \par
    % {\large\imprimirdatabanca}
    {\large{\imprimirlocal}, {\imprimirdatabanca}}
    \par
    \vspace*{1cm}
  \end{center}
\end{folhadeaprovacao}
}
\makeatother

% ---
% FIM DAS CUSTOMIZACOES PARA A UNIVERSIDADE FEDERAL DO ACRE
% ---
